<!-- OmniView:on -->
<html>
<head>
	<style>
        @import url(styles.css);
	</style>

    <script type="text/tiscript">
        var data;
        if(Utils.InDBGView)
            data = JSON.parse(Utils.readFileText(self.url("..") + "/nvi.json"));
        else
            data = view.Host_Data();

        for(var (i, book) in data)
        {
            const el = <div>{book.name}</div>;
            self#sidebar.append(el);
        }

        self#sidebar.on("click", "div", function() {
            var book = data[this.index];
            LoadBook(book);
        });

		function LoadBook(book) {
			self#bookname.text = book.name;
			self#verses.clear();

            for(var (i, chapter) in book.chapters)
            {
				var el_paragraph = self#verses.$append(<div></div>);
                for(var (i, verse) in chapter)
                {
                    const el = <span>{verse}</p>;
                }
            }
		}

		LoadBook(data[0]);
    </script>
</head>

<body>
    <div #sidebar>

    </div>

    <main #main>
		<h1 #bookname />
		<div #verses />
    </main>
</body>
</html>